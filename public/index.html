<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mafia JFF</title>
  <link rel="icon" type="image/png" href="favicon.ico">

  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1 id="lobby-title">Mafia JFF</h1>
    <div id="join-section" class="section">
      <input type="text" id="player-name" placeholder="Wpisz swoje imię" maxlength="20">
      <div id="join-buttons">
        <button onclick="joinGame()">Dołącz</button>
        <button id="host-button" onclick="showHostPinModal()">Hostuj grę</button>
      </div>
    </div>
    <h4 id="players-title">Gracze</h4>
    <ul id="player-list"></ul>
    <div id="host-controls" class="section" style="display: none;">
      <button id="host-roles-menu-button" onclick="toggleHostRolesMenu()" style="display: none;">Role</button>
      <div id="host-roles-menu" style="display: none;">
        <h3>Role</h3>
        <ul id="host-roles-list"></ul>
        <h3>Dodatkowe role</h3>
        <ul id="host-additional-roles-list"></ul>
      </div>
      <div id="host-role-description-modal" class="modal" style="display: none;">
        <div class="modal-content">
          <h3 id="host-role-description-title"></h3>
          <div id="host-role-description-text"></div>
          <button onclick="closeHostRoleDescriptionModal()">Powrót</button>
        </div>
      </div>
      <div id="host-actions">
        <div id="roles-config"></div>
        <div id="host-buttons">
          <button id="assign-roles-button" onclick="assignRoles()">Przydziel role</button>
          <button id="save-roles-button" onclick="saveRoles()">Zapisz role</button>
          <button id="start-button" onclick="startGame()">Rozpocznij grę</button>
        </div>
        <div id="player-count" class="counter"></div>
      </div>
      <div id="vote-controls" style="display: none;">
        <input type="number" id="vote-minutes" placeholder="Minuty" min="0">
        <input type="number" id="vote-seconds" placeholder="Sekundy" min="0">
        <button id="vote-button" onclick="startVoting()">Rozpocznij głosowanie</button>
        <button id="random-events-button" onclick="openRandomEvents()" style="display: none;">Wydarzenia</button>
        <button id="dice-roll-button" onclick="openDiceRoll()" style="display: none;">Losowanie</button>
        <div id="alive-dead-count" class="counter"></div>
      </div>
      <div id="host-event-message"></div>
      <div id="host-players-grid"></div>
      <div id="player-actions-modal" class="modal" style="display: none;">
        <div class="modal-content">
          <h3 id="modal-player-name"></h3>
          <div id="modal-player-info"></div>
          <div id="modal-actions">
            <select id="modal-main-role" class="action-select main-role-select">
              <option value="">Zmień rolę</option>
            </select>
            <select id="modal-additional-role" class="action-select additional-role-select">
              <option value="">Wybierz dodatkową rolę</option>
            </select>
            <button id="modal-kill-button" class="action-button kill-button">Zabij</button>
            <button id="modal-revive-button" class="action-button revive-button">Ożyw</button>
            <button id="modal-close-button" onclick="closePlayerActionsModal()">Zamknij</button>
          </div>
        </div>
      </div>
      <button onclick="resetGame()">Resetuj grę</button>
    </div>
    <div id="random-events-view" class="section" style="display: none;">
      <h2>Zdarzenia losowe</h2>
      <div id="random-event-message"></div>
      <div id="random-events-controls">
        <button id="draw-event-button" onclick="drawRandomEvent()">Losuj</button>
        <select id="events-list" onchange="selectEvent(this.value)">
          <option value="">Wybierz wydarzenie</option>
        </select>
        <button id="clear-event-button" onclick="clearEventMessage()">Wyczyść komunikat</button>
        <button id="back-to-host-button" onclick="backToHost()">Powrót</button>
      </div>
    </div>
    <div id="dice-roll-view" class="section" style="display: none;">
      <h2>Rzut kostką</h2>
      <div id="dice-result"></div>
      <button id="roll-dice-button" onclick="rollDice()">Rzuć kostką</button>
      <button id="back-from-dice-button" onclick="backToHostFromDice()">Powrót</button>
    </div>
    <div id="voting-view" class="section" style="display: none;">
      <h2>Głosowanie</h2>
      <div id="voting-timer"></div>
      <ul id="voting-list"></ul>
      <button id="end-voting-button" onclick="endVoting()" style="display: none;">Zakończ głosowanie</button>
      <button id="finish-voting-button" onclick="finishVoting()" style="display: none;">Powrót</button>
    </div>
    <div id="error-message" class="error-message" style="display: none;"></div>
    <div id="host-pin-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <h3>Wprowadź PIN</h3>
        <input type="number" id="host-pin-input" placeholder="PIN">
        <div>
          <button onclick="closeHostPinModal()">Powrót</button>
          <button onclick="verifyHostPin()">Potwierdź</button>
        </div>
      </div>
    </div>
  </div>
  <div id="player-view" style="display: none;">
    <h1 id="game-title">Mafia JFF</h1>
    <button id="roles-menu-button" onclick="toggleRolesMenu()">Role</button>
    <div id="roles-menu" style="display: none;">
      <h3>Role</h3>
      <ul id="roles-list"></ul>
      <h3>Dodatkowe role</h3>
      <ul id="additional-roles-list"></ul>
    </div>
    <div id="role-description-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <h3 id="role-description-title"></h3>
        <div id="role-description-text"></div>
        <button onclick="closeRoleDescriptionModal()">Powrót</button>
      </div>
    </div>
    <div class="card" id="role-card">
      <div class="card-front">
        <div class="card-content">
          <h2 id="role-reveal-text">Odsłoń swoją rolę</h2>
          <div id="player-event-message"></div>
        </div>
      </div>
      <div class="card-back">
        <div class="card-content">
          <div id="role-info"></div>
        </div>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>